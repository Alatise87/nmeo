<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Droning On</title>
    <meta charset="utf-8" />
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/lucy.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/middlebury-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" href="themes/class2-theme.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Droning On
## New Methods in Earth Observation
### Class 3

---


## Introduction
- Today: 
  - RStudio review
  - Resolutions worksheet
  - Manfreda et al article
  - Drones intro
  - eMotion simulation

---
# RStudio review
- Open whittier_comparison.R file
 - located under materials --&gt; code --&gt; R

---
# resolution comparison
- [Satellite costs link](https://www.researchgate.net/publication/326417596_Benchmark_of_Satellites_Image_Services_for_Precision_Agricultural_use)

---
# Manfreda article
- What is ideal extent for UAS?
![](figures/02/uas_slides/manfreda_fig_5.png)
---
# Manfreda article
- Why are UAS tranformative?
![](figures/02/uas_slides/manfreda_fig_2.png)


---
# Manfreda article
- Limitations/constraints


---
class: center, middle
# What Can UAS Do That Field Scientists and Cheap Satellites Can't?

![](figures/02/uas-cover.png)

---
background-image: url(figures/02/uas_slides/uas_slides.002.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.004.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.005.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.006.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.007.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.008.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.009.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.010.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.011.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.012.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.013.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.014.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.015.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.016.png)
background-size: cover

---
class: center, middle

# UAS Use Cases

---
background-image: url(figures/02/uas_slides/uas_slides.024.png)
background-size: cover

&lt;!-- .footnote[*Ecology + Conservation*] --&gt;
 

---
background-image: url(figures/02/uas_slides/uas_slides.025.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.026.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.031.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.032.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.033.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.034.png)
background-size: cover

---
# Drones as Scaling Tools

&lt;img src="2-droning_on_class3_s2021_files/figure-html/unnamed-chunk-1-1.png" style="display: block; margin: auto;" /&gt;

.center[Gaveau et al (2014), Figure 2b]

---

![](figures/01/gaveau_etal2014.png)
.center[Gaveau et al (2014), Figure 3]

---

background-image: url(http://upload.wikimedia.org/wikipedia/commons/c/c9/FEMA_-_45355_-_Firefighting_helicopter_hovering_over_a_lake_in_Colorado.jpg)
background-size: cover

# Key Characteristics of Drones
- Cannot cover large areas like satellites and crewed aircraft
- Unmatched spatial and temporal resolution
- Variable perspective

---

background-image: url(figures/02/uas_slides/uas_slides.021.png)
background-size: cover


---
background-image: url(figures/02/uas_slides/uas_slides.035.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.036.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.037.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.039.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.040.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.041.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.042.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.043.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.044.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.045.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.046.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.047.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.048.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.049.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.050.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.051.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.052.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.053.png)
background-size: cover

---
background-image: url(figures/02/uas_slides/uas_slides.054.png)
background-size: cover

---

# The Scales of Ecological Observations

![](figures/02/estes_etal_2ac.png)

.center[Estes et al (2018), Figure 2]

---
# The Scales of Ecological Observations

![](figures/02/Manfreda.png)
.center[Manfreda et al (2018), Figure 5]

---

# The Scales of Ecological Observations
 - [Padua et al. (2017)](https://doi.org/10.1080/01431161.2017.1297548)
![](figures/02/uas_slides/padua_fig_1.jpg)



---
# Working With Drones
## Preflight Planning
- Flight properties: Height, overlap
- Control: GCPs, base stations, calibration targets
- Environment: wind, cloud cover, rain

---
## Sensors
+ Choice of sensor: Off-the-shelf versus dedicated sensors

---
background-image: url(figures/02/spectral-char.png)
background-size: 80%
background-position: bottom

### Camera spectral characteristics

---

## Software 

Structure From Motion

&lt;iframe width="600" height="450" src="https://www.youtube.com/embed/i7ierVkXYa8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen&gt;&lt;/iframe&gt;

If you want to learn more about the math, go here [here](https://www.youtube.com/watch?v=zdKX7Xo3Cb8)

---

## Software 

Structure From Motion

![](figures/02/uas_slides/Anderson_fig2.png)


---

# Sources of Error

## Geometric 
### Orthomosaic from SfM
### Geometric correction (RTK/PPK/GCP)

## Atmospheric effects

---

# Sources of Error

## RTK/PPK links
### [RTK/PPK/GCP video](https://www.youtube.com/watch?v=1A3ZmYwx330)
### [Sensefly link](https://www.sensefly.com/blog/gcps-rtk-ppk-when-what-why/)
### [Wingtra link](https://wingtra.com/ppk-drones-vs-rtk-drones/)

---

# Sources of Error

## RTK scehmatic (Wingtra)
![](figures/02/uas_slides/rtk_schematic_wingtra.png)

---

# Sources of Error

## PPK scehmatic (Wingtra)
![](figures/02/uas_slides/ppk_schematic_wingtra.png)

---




### Radiometric calibration

.center[![](figures/02/ciraolo_etal.png)]
.center[Credit: Giuseppe Ciraolo, Universit√† degli Studi di Palermo]

---

## Hard to Correct/Uncorrectable Errors
- Blur
- Hotspots / BRDF

---
background-image: url(figures/02/blurry.png)
background-size: 70%
### Blurry Flight (transects go downwind)



---
background-image: url(figures/02/nonblurry.png)
background-size: 70%
### Less Blurry (transects go upwind)


---
background-image: url(figures/02/IMG_4796.JPG)
background-size: cover
### Blurry

---
background-image: url(figures/02/IMG_4267.JPG)
background-size: cover
### Less Blurry

---
background-image: url(figures/02/orth-artifacts.png)
background-size: cover
### Missing Data

---
background-image: url(figures/02/schaaf_brdf_1.png)
background-size: 70%
### BRDF effects (backscattering vs. forward scattering)
#### [Dr. Crystal Schaaf's Lab](https://www.umb.edu/spectralmass/terra_aqua_modis/modis)

---
background-image: url(figures/02/schaaf_brdf_2.png)
background-size: 70%
### BRDF effects (backscattering vs. forward scattering)


---
background-image: url(figures/02/hotspots.png)
background-size: cover


# Collecting Data

---

class: center, middle

# Flight Simulation
## [Pre-flight checklist link](https://docs.google.com/document/d/1E_k8FtFEPNm1VbdBeYy1wgPX22jcMSnUrJtBy5e8Vmo/edit?usp=sharing)

---

### Plan mission eMotion3
#### Create new mission
##### - Select plane (eBee Plus and eBee RTK) and camera characteristics (Sequioa)
--

##### - if simulating, set start, home, working area on map, select arrow icon (see image below) to place point on map where you want to simulate flight

![](figures/02/emotion_start.png)
---
##### - Examine wind (estimated mission wind)

--

##### - Set start point (initial launch point) to be into wind from where you plan to launch


##### - Set home to be where you want to land. 

--

##### - Adjust landing sector so that it provides a funnel into wind (plane should land into wind--a wider pie slice gives more options). Add another one if needed


![](figures/02/landing_sector.png)

##### - Create a new mission block, select correct camera, desired pixel resolution (which adjusts height), and orient flight lines to be perpendicular to wind.  First transect points should be the further downwind

--

##### - Calibrate camera

---

##### - Connect to plane (if simulating, have to choose start simulation)

--

##### - After selecting plane, set RTK tab to standalone mode

![](figures/02/rtk_tab.png)

##### - You are now ready to fly, either for real, or as a simulation. 

---

### Post-mission 
#### Transfer photos from camera to computer

--

#### Transfer flight logs from drone to computer

---

### Post-processing flight logs and images
#### Got to post-flight section of eMotion3, create new project: 

--

##### - Select "No" under the "Did you use this computer to fly?" question (unless you did!)

--

##### - Choose a name convention that provides the date of the flight and the location, and click next

--

#### Load in drone flight logs (ending in .bb3, e.g. EP-01-18467_0029.bb3), and click next. Note, you don't need eMotion's flight logs

--

#### Under RTK/PPK, you have two choices: 
##### - Standalone: geotag your images with low accuracy

--

##### - PPK: Process drone's raw GNSS data

##### - For PPK, collect and load in RINEX file from [here](https://www.ngs.noaa.gov/UFCORS/), for our demo area we want MASB (the Sturbridge station), for the date and time of our flight. Note the RINEX request should cover the entire flight interval. Download and unzip the file, and load in the observations (.18o file).  The other fields will populate. Click next. Some calculations will be made. 
---
#### Reminder!!!

![](figures/02/bb8_slide.png)





---

#### Import the images collected on the flight (easiest is to provide folder location)

##### - Click next a total of three times, after which the images will be converted to compressed .tifs, and .p4d project file will be created. 

##### - The images will be shown over the flight paths

##### - You can click finish




---


## For next class

- Review [DroneDeploy website](https://www.dronedeploy.com/) (guest speaker next class!)
- Review RTK/PPK links 
- Sign-up for Pix4D trial (details on Slack)
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
