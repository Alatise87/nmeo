<!DOCTYPE html>
<html>
  <head>
    <title>Small Sats</title>
    <meta charset="utf-8">
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/lucy.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/middlebury-fonts.css" rel="stylesheet" />
    <script src="libs/htmlwidgets-1.2/htmlwidgets.js"></script>
    <script src="libs/jquery-1.12.4/jquery.min.js"></script>
    <link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
    <script src="libs/leaflet-1.3.1/leaflet.js"></script>
    <link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
    <script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
    <script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
    <link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
    <script src="libs/leaflet-binding-2.0.2/leaflet.js"></script>
    <script src="libs/leaflet-providers-1.1.17/leaflet-providers.js"></script>
    <script src="libs/leaflet-providers-plugin-2.0.2/leaflet-providers-plugin.js"></script>
    <link rel="stylesheet" href="themes/class6-theme.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Small Sats
## New Methods in Earth Observation
### 9/19/2018

---

background-image: url(figures/07/explorer.png)
background-size: cover

class: center, top
# Working with PlanetScope Data

---
background-image: url(https://www.planet.com/assets/images/approach/orbit-operations.jpg)
background-size: 60%
background-position: bottom
## A bit more on PlanetScope Radiometrics
&amp;nbsp;&amp;nbsp;- Detailed overview of radiometric calibration from [here](https://calval.cr.usgs.gov/wordpress/wp-content/uploads/Nick-Wilson.pdf)

&amp;nbsp;&amp;nbsp;- Independent assessment [here](https://calval.cr.usgs.gov/wordpress/wp-content/uploads/Dmitry-Varlyguin.pdf)

&amp;nbsp;&amp;nbsp; - (both in `materials/papers/`)

---
## Surface Reflectance

![](figures/07/boa.png)

---
## Surface Reflectance
&amp;nbsp;&amp;nbsp;- Aerosol optical depth, water vapor from `MOD09CMA`

&amp;nbsp;&amp;nbsp;- Ozone from `MOD09CMG`

&amp;nbsp;&amp;nbsp;- Time difference ~1 hour

&amp;nbsp;&amp;nbsp;- Major uncertainties from MODIS values over clouds, ice, desert

&amp;nbsp;&amp;nbsp;- Sometimes no MODIS nearby--default 6S model

&amp;nbsp;&amp;nbsp;- Haze, cirrus not corrected

&amp;nbsp;&amp;nbsp;- Single, global aerosol model

&amp;nbsp;&amp;nbsp;- Scattering not dealt with

&amp;nbsp;&amp;nbsp;- Lambertian surface assumed

---

.center[![](https://images.slideplayer.com/26/8855359/slides/slide_6.jpg)]


---

.center[![](figures/07/brdf.png)]
.center[[Source](http://www.conabio.gob.mx/conocimiento/premota/doctos/papers/LandVeg/Crystal_Schaaf.ppt.pdf)]

---

### PlanetScope Geometric Accuracy

![](figures/07/ortho.png)
.center[DobriniÄ‡ et al, from [here](https://bib.irb.hr/datoteka/947280.DobrinicGasparovicZupan_manuscript.pdf)]

---

### Another assessment

.center[![](figures/07/ortho2.png)]
.center[The Joint Research Centre, from [here](http://publications.jrc.ec.europa.eu/repository/bitstream/JRC111221/jrc_technical_report_planetscope-final_2.pdf)]

---

### Working with Planet Explorer
#### The Point and Click Method

[Let's Login](https://www.planet.com/login/)

---

<div id="htmlwidget-b0ec04c4b079a5c7e56e" style="width:504px;height:504px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-b0ec04c4b079a5c7e56e">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Esri.WorldImagery",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addTiles","args":["https://tiles.rasterfoundry.com/tiles/07059f3a-29cc-447a-8261-4f9846e1279e/{z}/{x}/{y}/?mapToken=00e8e60f-3cd9-47d5-a851-9660a00ba4b3",null,"OS",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false}]},{"method":"addTiles","args":["https://tiles.rasterfoundry.com/tiles/68fc6d70-6c8e-4e69-bfd0-e9bf03f3b098/{z}/{x}/{y}/?mapToken=b08a629c-b407-48ad-b2a9-7a7c6e9001bf",null,"GS",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false}]},{"method":"addPolygons","args":[[[[{"lng":[-2.991,-2.986,-2.986,-2.991,-2.991],"lat":[10.535,10.535,10.53,10.53,10.535]}]]],null,"Cell",{"interactive":true,"className":"","stroke":true,"color":"white","weight":1,"opacity":1,"fill":false,"fillColor":"white","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[10.5325,-2.9885,{"iconUrl":{"data":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGP6zwAAAgcBApocMXEAAAAASUVORK5CYII=","index":0},"iconWidth":1,"iconHeight":1},null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},null,null,null,null,"BF0835768",{"interactive":false,"permanent":true,"direction":"top","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":true,"style":{"color":"white"},"className":"","sticky":true},null]},{"method":"addLayersControl","args":[[],["Cell","GS","OS"],{"collapsed":false,"autoZIndex":false,"position":"topright"}]}],"setView":[[10.5325,-2.9885],11,[]],"limits":{"lat":[10.53,10.535],"lng":[-2.991,-2.986]}},"evals":[],"jsHooks":[]}</script>


---

## Point and click only gets you so far

.center[![](figures/07/planet_downloads_180915103248.png)]
.center[September 15th, 10:30 AM]

---

## Point and click only gets you so far

.center[![](figures/07/planet_downloads_180917091530.png)]
.center[September 17th, 3:30 PM]

---

## Point and click only gets you so far

.center[![](figures/07/planet_downloads_180919112717.png)]
.center[11:30 AM Today]

---

## Automation is key

### Getting a Python downloader running

&amp;nbsp;&amp;nbsp;- Install Python 3, if you don't have it

&amp;nbsp;&amp;nbsp;- Key libraries:

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; - rasterio 

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; - retry

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; - planet

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; - scipy

&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; - skimage https://scikit-image.org/download.html

```
python -m pip install --user numpy scipy matplotlib ipython jupyter pandas sympy nose
pip install planet
pip install rasterio
pip install retry
```
    </textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function() {
  var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})();</script>

<script>
(function() {
  var i, text, code, codes = document.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
})();
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
